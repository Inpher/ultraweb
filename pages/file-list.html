<div class="row">
    <div class="col-lg-12">
		<h1 class="panel-heading">
			Filesystem View
		</h1>
	<!-- /.panel-heading -->
		<div class="panel-body">
			<div class="dataTable_wrapper">
				<table id="files" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
				<thead>
						<tr>
							<th>Name</th>
							<th>Kind</th>
							<th>Size</th>
						</tr>
					</thead>
				</table>
			</div>
		</div>
	</div>
</div>



<!-- DataTables JavaScript -->
<script src="../bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
<script src="../bower_components/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.min.js"></script>
<script src="../bower_components/datatables-responsive/js/dataTables.responsive.js"></script>

<script>
	$(document).ready(function () {
	  // Load the table content
	  inpherapi_list('/' + sessionStorage.getItem("username") , function(data, status) {
		if (status !== "success") {
			alert("error " + status);
		}
		console.log(data);
		$("#files").DataTable( {
			data: data.list.map(function(a) {return [a, "Directory", 0]})
		});
	  });
	});

	function inpherapi_list(path, callback) {
		inpherapi_auth_get("/listDir", "dir=" + path, callback)
	}
</script>